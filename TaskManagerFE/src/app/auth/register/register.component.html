<div class="pt-6 mb-10">
  <h1 class="text-2xl font-bold text-center mb-4">REGISTER</h1>
  <form #registerationForm="ngForm" class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md" (ngSubmit)="register()">
    <div class="mb-2">
      <label for="usernameOrEmail" class="block text-gray-700 font-medium mb-2">Email:</label>
      <input type="email" id="email" name="email" required
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="email" (input)="onInputChange()" #emailRef="ngModel" email />
      <div class="text-xs text-red-500 mt-1" *ngIf="emailRef.invalid && emailRef.touched">
        <span *ngIf="emailRef.errors?.['required']">Email is required.</span>
        <span *ngIf="emailRef.errors?.['email']">Invalid email format.</span>
      </div>
    </div>
    <div class="mb-2">
      <label for="usernameOrEmail" class="block text-gray-700 font-medium mb-2">Username:</label>
      <input type="text" id="username" name="username" required
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="username" (input)="onInputChange()" #usernameRef="ngModel" />
      <div class="text-xs text-red-500 mt-1" *ngIf="usernameRef.invalid && usernameRef.touched">
        Username or Email is required.
      </div>
    </div>
    <div class="mb-2">
      <label for="password" class="block text-gray-700 font-medium mb-2">Password:</label>
      <input type="password" id="password" name="password" required
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="password" (input)="onInputChange()" #passwordRef="ngModel" />
      <div class="text-xs text-red-500 mt-1" *ngIf="passwordRef.invalid && passwordRef.touched">
        Username or Email is required.
      </div>
    </div>
    <div class="mb-2">
      <label for="role" class="block text-gray-700 font-medium mb-2">Role</label>
      <select id="role" name="role"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="role" (input)="onInputChange()" #roleRef="ngModel" required>
        <option *ngFor="let role of USER_ROLES" [value]="role[0]">
          {{ role[1] }}
        </option>
      </select>
      <div *ngIf="roleRef.invalid && roleRef.touched" class="text-xs text-red-500 mt-1">
        Role is required.
      </div>
    </div>
    <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg opacity-50" [ngClass]="{
        'opacity-100 hover:bg-blue-600 transition duration-200 cursor-pointer':
          !registerationForm.invalid
      }" [disabled]="!email || !username || !password">
      Register
    </button>
    <div class="text-sm text-gray-700 mt-2 text-right">
      Already Registered?
      <a routerLink="/login" class="text-blue-500 cursor-pointer">Login</a>
    </div>
    <div class="text-sm text-red-500 mt-2" *ngIf="error">
      <i class="fas fa-exclamation-circle text-red-500"></i>
      {{ error }}
    </div>
  </form>
</div>